<template>
    <div class="user-home-container">
        <div v-if="postData.records != null && postData.records.length != 0" class="user-post-list">
          <div @click="goToPostDetail(item.id)" class="card" v-for="item in postData.records" :key="item.id">
            <div class="card-info">
              <div class="card-user-info">
                <img class="card-avatar" v-lazy="imgPref + item.avatarUrl">
                <div class="card-name">{{ item.nickName }}</div>
              </div>
              <div class="head-title">
                <h3>{{ item.title }}</h3>
              </div>
            </div>
            <div class="card-content">
              <img v-lazy="imgPref + item.coverImg">
              <p>{{ item.content }}</p>
            </div>
            <ul class="card-social">
              <li @click.stop class="card-social__item">
                <svg v-show="!item.isPraise"  @click="handleLike(item.id)" t="1676958887288" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="906" width="200" height="200">
                  <path d="M698.4 212c46.2 0 89.8 18.2 122.5 51.2 68.1 68.6 68.1 180.2 0 248.7L531 804c-6.5 6.6-13.9 8-19 8.00000001s-12.4-1.4-19-8.00000001L203.1 511.9c-68.1-68.6-68.1-180.2 0-248.7 32.8-33 76.3-51.2 122.5-51.2s89.8 18.2 122.5 51.2l63.9 64.3 63.9-64.3c32.7-32.99999999 76.3-51.2 122.5-51.2m0-90c-67.5 0-134.9 25.9-186.4 77.79999999-51.5-51.89999999-118.9-77.8-186.4-77.79999999s-134.9 25.9-186.4 77.8c-102.9 103.69999999-102.9 271.8 0 375.6l289.9 292.1C452 890.5 482 902 512 902c30.00000001 0 60-11.49999999 82.8-34.6l289.9-292.1c102.9-103.69999999 102.9-271.8 0-375.6-51.4-51.8-118.8-77.7-186.3-77.7z" fill="#2c2c2c" p-id="907"></path>
                </svg>
                <svg v-show="item.isPraise" @click="handleLike(item.id)" t="1677310682609" :class="'hearthBtn'" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="967" width="200" height="200">
                  <path d="M960.4 374.1c0 67.3-25.8 134.4-76.9 185.8L544 899.3c-17.7 17.7-46.4 17.7-64.1 0L140.5 559.8C38 457.2 38 291 140.5 188.3c51.3-51.1 118.4-76.9 185.8-76.9 55.7 0 111.3 17.7 157.9 52.7 16.6 12.5 39 12.5 55.6 0 103-77.5 249.9-69.5 343.7 24.1 51.1 51.5 76.9 118.5 76.9 185.9z" p-id="968" fill="#d81e06"></path>
                </svg>
                <span>{{ item.praiseNum }}</span>
              </li>
              <li class="card-social__item">
                <svg t="1676958907232" class="icon" viewBox="0 0 1171 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1060" width="200" height="200">
                  <path d="M821.510124 787.499968H660.432094c-5.365949 0-8.93956 1.792337-12.524235 5.377012l-89.49517 89.484107c-41.157378 41.168442-109.166627 41.168442-152.127407 0l-89.49517-89.484107a16.208484 16.208484 0 0 0-12.535299-5.377012H143.187847C64.435638 787.499968 0 723.075394 0 644.323184v-501.190656C0 64.435638 64.435638 0 143.187847 0h680.114614c78.75221 0 143.187847 64.435638 143.187847 143.176783v501.190657c-1.792337 78.75221-66.227975 143.176783-144.935929 143.176783z m0-71.58286a71.804136 71.804136 0 0 0 71.593923-71.593924v-501.190656a71.793072 71.793072 0 0 0-71.593923-71.58286H141.39551a71.782008 71.782008 0 0 0-71.58286 71.58286v501.190656a71.793072 71.793072 0 0 0 71.58286 71.616051h161.07803c23.234004 0 46.545455 8.93956 62.6433 26.840807l89.49517 89.49517c14.316572 14.316572 35.79143 14.316572 50.108002 0l89.49517-89.49517c16.108909-16.131037 39.376105-26.840806 62.643301-26.840807zM266.637855 340.057307c30.425481 0 53.692677 23.234004 53.692676 53.703741v35.791429c0 30.425481-23.234004 53.692677-53.692676 53.692677s-53.692677-23.234004-53.692677-53.692677V393.761048c0-30.436545 23.234004-53.703741 53.692677-53.703741z m214.770706 0c30.425481 0 53.692677 23.234004 53.692677 53.703741v35.791429c0 30.425481-23.234004 53.692677-53.692677 53.692677s-53.692677-23.234004-53.692676-53.692677V393.761048c0-30.436545 23.234004-53.703741 53.692676-53.703741z m214.781771 0c30.425481 0 53.692677 23.234004 53.692677 53.703741v35.791429c0 30.425481-23.234004 53.692677-53.692677 53.692677s-53.692677-23.234004-53.692677-53.692677V393.761048c0-30.436545 23.234004-53.703741 53.692677-53.703741z m0 0" fill="#2c2c2c" p-id="1061"></path>
                </svg>
                <span>{{ item.commentsNum }}</span>
              </li>
              <li class="card-social__item">
                <svg t="1676958926901" class="icon" viewBox="0 0 1633 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1260" width="200" height="200">
                  <path d="M816.586922 0C307.036683 0 0 519.349282 0 519.349282s356.031898 503.017544 816.586922 503.017544 816.586922-503.017544 816.586922-503.017544S1326.137161 0 816.586922 0z m524.248804 710.430622c-169.85008 143.719298-349.499203 233.54386-530.7815 233.54386s-360.931419-84.92504-530.781499-233.54386C220.478469 658.169059 163.317384 604.274322 114.322169 545.480064c-9.799043-9.799043-16.331738-21.23126-26.130781-31.030303 4.899522-9.799043 16.331738-21.23126 21.23126-31.030303 42.46252-58.794258 94.724083-115.955343 153.518341-169.85008C429.524721 164.950558 609.173844 73.492823 811.6874 73.492823S1193.85008 163.317384 1357.167464 311.936204c58.794258 52.261563 106.1563 111.055821 153.518341 169.85008 4.899522 9.799043 16.331738 21.23126 21.23126 31.030303-4.899522 9.799043-16.331738 21.23126-26.130781 31.030303-47.362041 55.527911-101.256778 114.322169-164.950558 166.583732z" p-id="1261" fill="#2c2c2c"></path><path d="M811.6874 200.880383c-158.417863 0-280.905901 127.38756-280.905901 280.905901 0 158.417863 127.38756 280.905901 280.905901 280.905901 158.417863 0 280.905901-127.38756 280.905901-280.905901s-127.38756-280.905901-280.905901-280.905901z m0 488.318979c-111.055821 0-200.880383-89.824561-200.880382-200.880383 0-111.055821 89.824561-200.880383 200.880382-200.880383S1012.567783 377.263158 1012.567783 488.318979c0 106.1563-89.824561 200.880383-200.880383 200.880383z" p-id="1262" fill="#2c2c2c"></path>
                </svg>
                <span>{{ item.readingNum }}</span>
              </li>
              <li class="card-social__item">
                <svg t="1677310115330" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="937" width="200" height="200">
                  <path d="M512 864c194.4 0 352-157.6 352-352S706.4 160 512 160 160 317.6 160 512s157.6 352 352 352z m0 64C282.24 928 96 741.76 96 512S282.24 96 512 96s416 186.24 416 416-186.24 416-416 416z" fill="#515151" p-id="938"></path><path d="M512 544h192a32 32 0 0 1 0 64h-224a32 32 0 0 1-32-32V288a32 32 0 0 1 64 0v256z" fill="#515151" p-id="939"></path>
                </svg>
                <span>{{ item.createTime }}</span>
              </li>
            </ul>
          </div>
          <el-pagination v-if="postData.records.length != 0" background layout="prev, pager, next" :total="postData.total">
          </el-pagination>
        </div>
        <NoDataPage :dataList="postData.records"></NoDataPage>
    </div>
</template>

<script>
import NoDataPage from '@/layouts/noData'

import '~/assets/css/card.css'
export default {
    components: {
      NoDataPage,
    },
    props: {
        postData: {
            default: null,
            required: true
        }
    },
    name: 'CardPage',
    data() {
        return {
          imgPref: 'http://localhost:8888/images/download?fileName=',
        }
    },
    created() {
    },
    methods: {
      goToPostDetail(id) {
        window.location.href = '/discuss/detail/' + id
      },
    }
}
</script>